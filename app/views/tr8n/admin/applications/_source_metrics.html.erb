<%= will_filter_table_tag(@metrics, :columns => [
    [:language_id, lambda{|metric| 
       metric.language.english_name
    }],    
    [:key_count, lambda{|metric|
      link_to(metric.key_count, "/tr8n/admin/applications/key_sources?wf_c0=translation_source_id&wf_o0=is&wf_v0_0=#{metric.translation_source.id}")
    }, 'text-align:right'],
    [:translated_key_count, lambda{|metric| 
      metric.translated_key_count
    }, 'padding:5px;text-align:right;white-space:nowrap;'],    
    [:locked_key_count, lambda{|metric| 
      metric.locked_key_count
    }, 'padding:5px;text-align:right;white-space:nowrap;'],    
    [:translation_count, lambda{|metric| 
      metric.translation_count
    }, 'padding:5px;text-align:right;white-space:nowrap;'],    
    [:not_translated, lambda{|metric| 
      metric.not_translated_count
    }, 'padding:5px;text-align:right;white-space:nowrap;'],    
    [:pending_approval, lambda{|metric| 
      metric.pending_approval_count
    }, 'padding:5px;text-align:right;white-space:nowrap;'],    
    [:translation_progress, lambda{|metric| 
      "#{metric.translation_completeness}%"
    }, 'padding:5px;text-align:right;white-space:nowrap;'],    
    [:locked_phrases, lambda{|metric| 
      "#{metric.completeness}%"
    }, 'padding:5px;text-align:right;white-space:nowrap;'],    
    
    [:actions, lambda{|metric|
      html = []
      html << link_to("Recalculate", {:action => :recalculate_metric, :metric_id => metric.id}, {:confirm => "Are you sure you want to recaluclate this metric?"})
      html.join(' | ')
    }, 'padding:5px;text-align:right;white-space:nowrap;']
  ]) %>
