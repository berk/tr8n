<%= render :partial => "/tr8n/admin/common/header" %>

<h1>
	<span style="font-size:12px; float:right; padding-top:10px;">
		<%=link_to("View Translation Key Sources", {:action => :sources})%> 
    | <%=link_to("View Translation Key Locks", {:action => :locks})%>
	</span> 
	Translation Keys
</h1>

<%= will_filter %>

<%= render :partial => "/tr8n/admin/common/paginator", :locals => {:objects => @keys} %>

<table class="admin_table">
  <tr>
    <th>
      Label
    </th>
    <th>
      Description
    </th>
    <th>
      Tokens
    </th>
    <th style="text-align:right">
      Translations
    </th>
    <th style="width:80px"></th>
  </tr>  
  <% @keys.each_with_index do |key, index| %>
    <tr>
      <td><%=key.label%></td>      
      <td><%=key.description%></td>      
      <td><%=key.tokens.join(", ")%></td>
      <td style="text-align:right">
        <%=link_to(key.translations.size, "/tr8n/admin/translation/index?mf_c_0=translation_key_id&mf_co_0=is&mf_cv_0_0=#{key.id}") %>
      </td>      
      <td style="text-align:right">
        <%=link_to("View", :action => :view, :key_id => key.id) %>
        | <%=link_to("Delete", {:action => :delete, :key_id => key.id}, {:confirm => "Are you sure you want to delete this key?"}) %>
      </td>
    </tr>
  <% end %>
</table>

<%= render :partial => "/tr8n/admin/common/paginator", :locals => {:objects => @keys} %>
<%= render :partial => "/tr8n/admin/common/footer" %>
