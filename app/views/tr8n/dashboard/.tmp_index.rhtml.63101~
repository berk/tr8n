<%= render :partial => "/tr8n/common/header" %>


<div class="section_title">
  <%=trl("{user}'s Dashboard", "", :user => [tr8n_current_translator.user, tr8n_current_translator.name]) %>
</div>

<div class="section_box colored">
  <table>
    <tr>
      <td style="vertical-align:top;padding-right:2px; width:60px;">
        <%=tr8n_user_mugshot_tag(tr8n_current_translator, :linked => true)%>
      </td>
      <td style="vertical-align:top">
			  <%=tr8n_translator_rank_tag(tr8n_current_translator)%>
			  <br>
			  Total number of translations:
				<%=tr8n_current_translator.total_metric.total_translations%>
			  <br>
			  Total number of votes:
				<%=tr8n_current_translator.total_metric.total_votes%>
        (<span style="color:green"><%=tr8n_current_translator.total_metric.positive_votes || 0 %></span>/<span style="color:red"><%=tr8n_current_translator.total_metric.negative_votes || 0 %></span>)
      </td>
    </tr>
  </table>
</div>

<% tr8n_current_translator.languages.each do |lang| %>
	<% next if lang.default? %>
	<div class="section_title">
    <%=image_tag("/tr8n/images/flags/#{lang.flag}.png", :title=>trl("#{lang.english_name} flag"))%>&nbsp;
    <%=lang.english_name%> 
	</div>
	
	<div class="section_box">
    <div id="<%=lang.id%>_chart" align="center"></div>
	</div>
<% end %>


<script type="text/javascript">
   function createChart(chartId, type, url) {
      var chart = new FusionCharts("/tr8n/charts/FCF_" + type + ".swf", chartId, "450", "500");
      chart.setDataURL(url);
      chart.render(chartId);
   }

<% tr8n_current_translator.languages.each do |lang| %>
   createChart("<%=lang.id%>_chart", "Pie3D", "/tr8n/chart/language_completeness?language_id=<%=lang.id%>");
<% end %>	 
</script>


For translators

global stats and ranks
* number of translations, votes you have submitted
* view you translator rank (place among other translators)

per langauge in your languages list
* language completion overall
* view you translator rank (place among other translators)
* list new topics in the discussions
* most recent translation votes (top 50) (with filters for getting votes on your translations)


For managers

* everything above 

* order language block by management right - manager first
* extra for every language
* view translator rank for the language (top 10)
* view translation violations
* shortcut links to any tabs 
* most recently active translator 


ideas:
subscribe for weekly emails about language status and stats

