<html>
  <head>
		<script type="text/javascript">
	    VKI_default_keyboard_image = "/assets/tr8n/keyboard.png";
	  </script>

  	<%= stylesheet_link_tag('tr8n/tr8n.css') %>
    <%= javascript_include_tag('tr8n/tr8n.js') %>
		<script type="text/javascript">
		  function resizeFrame() {
		    var height = document.body.scrollHeight;
				Tr8n.postMessage({'subject': 'lightbox', 'action': 'resize', 'height': height}, '<%=params[:origin]%>');
		  }
		  
		  function hideLightbox() {
		  	Tr8n.postMessage({'subject': 'lightbox', 'action': 'hide'}, '<%=params[:origin]%>');
		  }

		  function reloadOrigin() {
		  	Tr8n.postMessage({'subject': 'window', 'action': 'reload'}, '<%=params[:origin]%>');
		  }

	    Tr8n.Utils.addEvent(document, "keyup", function(event) {
	      if (event.keyCode == 27) {
					hideLightbox();
	      }
	    });		  

	    <% 
	    	if Tr8n::Config.should_generate_signed_request?
	    %>
		    Tr8n.Utils.addEvent(window, "load", function(event) {
		    	Tr8n.postMessage({'subject': 'cookie', 'action': 'set', 'name': '<%= Tr8n::Config.signed_request_name%>', 'value': '<%=Tr8n::Config.signed_request_body%>'}, '<%=params[:origin]%>');
		    });		  
	    <%
	    	end 
	    %>
		</script>
		<style>
			body {
				font-family: Arial;
			}
			a {
				text-decoration: none;
				color: darkblue;
			}
			img {
				border: 0px;
			}
		  .tr8n_fltr {
		    <%=tr8n_style_attribute_tag('float', 'right')%> !important;
		  }
		  .tr8n_fltl {
		    <%=tr8n_style_attribute_tag('float', 'left')%> !important;
		  }
		  .tr8n_txtr {
		    <%=tr8n_style_attribute_tag('text-align', 'right')%> !important;
		  }
		  .tr8n_txtl {
		    <%=tr8n_style_attribute_tag('text-align', 'left')%> !important;
		  }
		</style>
  </head>	
  <body topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0" style="padding:0px;margin:0px;" onload="resizeFrame()">
    <div class="tr8n_lightbox_content">
